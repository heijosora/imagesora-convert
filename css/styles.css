/* Sliders */
.slider {
  -webkit-appearance: none;
  appearance: none;
  height: 6px;
  border-radius: 3px;
  background: rgb(229 231 235);
  outline: none;
  transition: all 0.3s ease;
}
.dark .slider { background: rgb(55 65 81); }
.slider::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none;
  width: 18px; height: 18px; border-radius: 50%;
  background: rgb(59 130 246);
  cursor: pointer; transition: all 0.2s ease;
}
.slider::-moz-range-thumb {
  width: 18px; height: 18px; border-radius: 50%;
  background: rgb(59 130 246);
  cursor: pointer; transition: all 0.2s ease;
}
.slider::-webkit-slider-thumb:hover,
.slider::-moz-range-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 0 0 8px rgba(59, 130, 246, 0.1);
}

/* Drag and Drop Active State */
.drop-active {
  border-color: rgb(59 130 246) !important;
  border-style: solid !important;
  background-color: rgba(59, 130, 246, 0.05) !important;
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
}

/* Spinner + Animations */
@keyframes spin { to { transform: rotate(360deg); } }
.spinner {
  border: 3px solid rgba(59,130,246,0.1);
  border-top-color: rgb(59 130 246);
  border-radius: 50%; width: 40px; height: 40px;
  animation: spin 1s linear infinite;
}

.fade-in { animation: fadeIn 0.3s ease-in; }
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgb(156 163 175); border-radius: 4px; }
.dark ::-webkit-scrollbar-thumb { background: rgb(75 85 99); }
::-webkit-scrollbar-thumb:hover { background: rgb(107 114 128); }
.dark ::-webkit-scrollbar-thumb:hover { background: rgb(107 114 128); }

/* Progress Bar */
.progress-bar { position: relative; height: 4px; background: rgb(229 231 235); border-radius: 2px; overflow: hidden; }
.dark .progress-bar { background: rgb(55 65 81); }
.progress-bar-fill {
  position: absolute; left: 0; top: 0; height: 100%;
  background: linear-gradient(90deg, rgb(59 130 246), rgb(147 51 234));
  border-radius: 2px; transition: width 0.3s ease;
}

/* Crop overlay */
#crop-overlay { background: rgba(0,0,0,0.35); }

/* Mode toggle + responsive states */
body.mode-quick .advanced-only { display: none !important; }
body.mode-advanced .quick-only { display: none !important; }

.mode-toggle {
  display: inline-flex;
  padding: 4px;
  border-radius: 9999px;
  background: rgb(243 244 246);
  gap: 4px;
}
.dark .mode-toggle { background: rgb(31 41 55); }

.mode-toggle-btn {
  border: none;
  background: transparent;
  color: rgb(107 114 128);
  font-weight: 600;
  padding: 0.35rem 1.25rem;
  border-radius: 9999px;
  transition: all 0.2s ease;
}
.mode-toggle-btn.active {
  background: linear-gradient(90deg, rgb(59 130 246), rgb(147 51 234));
  color: #fff;
  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.2);
}
.mode-toggle-btn:not(.active):hover { color: rgb(75 85 99); }
.dark .mode-toggle-btn:not(.active):hover { color: rgb(229 231 235); }

/* Preset buttons */
.preset-btn,
.trim-btn {
  border: 1px solid rgba(148, 163, 184, 0.6);
  border-radius: 9999px;
  padding: 0.45rem 0.75rem;
  font-size: 0.85rem;
  font-weight: 600;
  background: transparent;
  color: inherit;
  transition: all 0.2s ease;
}
.preset-btn:hover,
.trim-btn:hover {
  border-color: rgb(59 130 246);
  color: rgb(59 130 246);
}
.preset-btn.active,
.trim-btn.active {
  background: linear-gradient(90deg, rgb(59 130 246), rgb(147 51 234));
  border-color: transparent;
  color: #fff;
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.25);
}
.dark .preset-btn,
.dark .trim-btn {
  border-color: rgba(229, 231, 235, 0.2);
}